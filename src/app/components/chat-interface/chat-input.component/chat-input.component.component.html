<div class="chat-input-container" [class.centered]="isCentered()">
  <input 
  #fileInput
  type="file"
  style="display: none"
  (change)="onFileSelected($event)"
  multiple="false"
/>

  <button 
  mat-icon-button 
  class="attach-button"
  (click)="onFileClick()"
  aria-label="Attach file"
  type="button"
>
  <mat-icon>attach_file</mat-icon>
</button>
    <mat-form-field appearance="outline" class="input-field">
      <input 
      matInput 
      [(ngModel)]="question" 
      [placeholder]="attachedFileName ? 'File attached: ' + attachedFileName : 'Ask anything...'"
      (keydown)="onKeyDown($event)"
      [disabled]="isLoading()"
    />
    <span *ngIf="attachedFileName" class="file-badge" matSuffix>
      <span class="file-name">{{ attachedFileName }}</span>
      <button 
        mat-icon-button 
        (click)="removeFile()" 
        class="remove-file-btn"
        type="button"
        aria-label="Remove file"
      >
        <mat-icon>close</mat-icon>
      </button>
    </span>
    </mat-form-field>
    <button 
      mat-flat-button 
      color="primary" 
      (click)="onSubmit()"
      [disabled]="!question.trim() || isLoading()"
      class="send-button"
      aria-label="Send message"
    >
      <mat-icon>send</mat-icon>
    </button>
  </div>
